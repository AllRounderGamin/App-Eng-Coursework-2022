<!DOCTYPE html>
<html lang="en">

<head>
    <style> @import './Stylesheet.css'; </style>
    <meta charset="UTF-8">
    <title>Benji's Lego Store</title>
</head>

<div class="inactive" id="TagMenu">
    <button id="closeSidebar">Close</button>
    <p> Brick Type</p>
    <div>
        <label>Single Bricks
            <input type="checkbox">
        </label>
    </div>
    <div>
        <label>Colour Packs
            <input type="checkbox">
        </label>
    </div>
    <div>
        <label>Model Kits
            <input type="checkbox">
        </label>
    </div>
    <p>Brick Colour </p>
    <div>
        <label>Red
            <input type="checkbox">
        </label>
    </div>
    <div>
        <label>Green
            <input type="checkbox">
        </label>
    </div>
    <div>
        <label>Blue
            <input type="checkbox">
        </label>
    </div>
</div>

<nav>
    <form>
        <div id="Navigation">
            <a href="./Landing.html">
                <img alt="Placeholder Image" class="icon" src="images/placeholder.png">
            </a>

            <input aria-label="Search Through The Store" id="StoreSearch" placeholder="Search the Store!" required
                   type="search">

            <button class="button" id="openSidebar" type="button">Tags</button>

            <input class="button" type="submit" value="Search">

            <button class="button" id="listButton" redirectlink="http://localhost:8080/listPage" type="button">Your
                Lists
            </button>

            <a href="./Cart.html">
                <img alt="Placeholder Image" class="icon" src="images/cart.png">
            </a>
        </div>
    </form>

</nav>

<body>

<div id="itemPage">
    <div>
        <img alt="Item Preview" id="itemImage" src="images/placeholder.png">
    </div>
    <div>
        <div class="splitElements">
            <h1 id="itemName"> Item Name </h1>
            <h1 id="price"> Price </h1>
            <div>
                <label for="amount">Amount to Buy </label>
                <input id="amount" name="amount" type="number">
            </div>
            <button id="cartButton" listName="cart" redirectLink="http://localhost:8080/cart">Add to Cart</button>
        </div>
    </div>
    <h3 id="desc"> Description </h3>
    <div>
        <h4> Don't want to buy right now? Why not add to your wishlist! </h4>
        <button id="wishlistButton" link="http://localhost:8080/cart" listName="wishlist"> Add to Wishlist</button>
    </div>
</div>

</body>

<script type="module">
    import {openSidebar, closeSidebar, redirect} from "./Scripts/baseScripts.js";
    import {fillProductInfo, addProduct} from "./Scripts/productsAPI.js";

    await fillProductInfo(new URLSearchParams(window.location.search));

    const cartButton = document.querySelector("#cartButton");
    cartButton.setAttribute("itemName", document.querySelector("#itemName").textContent);
    cartButton.addEventListener("click", addProduct);

    const wishButton = document.querySelector("#wishlistButton")
    wishButton.setAttribute("itemName", document.querySelector("#itemName").textContent)
    wishButton.addEventListener("click", addProduct);

    const openSide = document.querySelector("#openSidebar");
    const closeSide = document.querySelector("#closeSidebar");
    const listButton = document.querySelector("#listButton");

    openSide.addEventListener("click", openSidebar);
    closeSide.addEventListener("click", closeSidebar);
    listButton.addEventListener("click", redirect);

</script>


</html>
